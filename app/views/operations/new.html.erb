<h3>Nouvelle tourn√©e</h3>

<%= form_for(@operation) do |f| %>
  <% if @operation.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@operation.errors.count, "error") %> prohibited this operation from being saved:</h2>

      <ul>
      <% @operation.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field" hidden>
    <%= f.label :date %>
    <%= f.datetime_select :date, :include_seconds => true%>
  </div>
  
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label getmdl-select">
    <input class="mdl-textfield__input" id="post_drink" name="post[drink]" value="" type="text" readonly tabIndex="-1" data-val=""/>
      <label class="mdl-textfield__label" for="post_drink">Boisson</label>
      <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu" for="post_drink">        
        <% Keg.where.not('endDate' => nil).collect.each do |keg| %>
          <li class="mdl-menu__item" data-val ="<%= keg.drink_id %>"><%= Drink.find(keg.drink_id).name %></li>
        <% end %>
      </ul>
  </div>
  
  <br/>
  

  <div class="mdl-textfield mdl-js-textfield">
    <%= f.label :numberDrink, class: 'mdl-textfield__label', value: 'Nombre de verres' %>
    <%= f.number_field :numberDrink, class: 'mdl-textfield__input', pattern: '-?[0-9]*(\.[0-9]+)?', step: '0.1' %>
    <span class="mdl-textfield__error">Ce n'est pas un nombre valide</span>
  </div>
  
  <br/>

  <div class="field" hidden>
    <%= f.label :user_id %>
    <%= f.number_field :user_id %>
  </div>
  
  <br/>
  <br/>  
  <br/>

  <div class="mdl-textfield mdl-js-textfield">
    <%= button_tag 'Valider', class: 'mdl-button mdl-js-button mdl-button--raised' %>
  </div>
<% end %>
